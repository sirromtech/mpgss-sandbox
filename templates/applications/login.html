{% load static %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}GSSS Portal{% endblock %}</title>

    <!-- Bootstrap CSS (via CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://challenges.cloudflare.com">
    <style>
        
        .cf-turnstile {
    display: flex;
    justify-content: center;
    margin-top: 1rem;
        }


        /* Extra mobile tweaks */
        @media (max-width: 576px) {
            .card {
                margin: 0 1rem; /* add side spacing */
            }
        }
        /* Extra mobile tweaks */
        .logo {
          max-width: 250px; /* default size for desktops */
         }

        @media (max-width: 992px) {
       .logo {
        max-width: 200px; /* tablets */
         }
    }

        @media (max-width: 576px) {
       .logo {
        max-width: 150px; /* phones */
         }
    }

    </style>

    {% block extra_head %}{% endblock %}
</head>
<body class="bg-light">

    {% block content %}
    <div class="container-fluid min-vh-100 d-flex align-items-center bg-light">
        <div class="row w-100 justify-content-center align-items-center">

            <!-- Left column: Logo/branding -->
            <div class="col-12 col-lg-6 text-center text-lg-start mb-4 mb-lg-0">
                <img src="{% static 'img/logo.png' %}" alt="Scholarship Logo" 
                     class="img-fluid mb-3 logo">
                <h1 class="fw-bold text-primary">GSSS Portal</h1>
                <p class="lead text-dark">Empowering students with a simple and secure platform.</p>
            </div>

            <!-- Right column: Login card -->
            <div class="col-12 col-md-8 col-lg-4">
                <div class="card shadow-lg border-0">
                    <div class="card-body p-4">
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="next" value="{{ request.GET.next }}">

                            <div class="form-group mb-3" placeholder="username">
                                {{ form.username|add_class:"form-control form-control-lg"|attr:"placeholder:Username" }}
                            </div>
                            <div class="form-group mb-3">
                                {{ form.password|add_class:"form-control form-control-lg"|attr:"placeholder:Password" }}
                            </div>
                            <button type="submit" class="btn btn-primary btn-lg w-100">Log In</button>

                            <div class="text-center mt-3">
                                <a href="{% url 'applications:password_reset' %}" class="text-decoration-none">Forgotten password?</a>
                            </div>
                            <hr>
                            <div class="text-center">
                                <a href="{% url 'applications:signup' %}" class="btn btn-success btn-lg">Create New Account</a>
                            </div>
                            <div class="cf-turnstile" data-sitekey="0x4AAAAAACNqqB5iWIporXcf"></div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
    {% endblock %}

    <!-- Bootstrap JS (via CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</body>
</html>
